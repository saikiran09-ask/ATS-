<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATS Score Calculator</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- PDF.js for PDF parsing -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script>
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
    </script>

    <!-- Mammoth.js for DOCX parsing -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap');

        body {
            background: linear-gradient(135deg, #f0f4ff 0%, #fdfbf7 50%, #f5f3ff 100%);
            font-family: 'Plus Jakarta Sans', sans-serif;
            color: #1e293b;
        }
        
        .glass-panel {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
        }

        .glass-panel-dark {
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(12px);
            color: white;
        }

        .score-circle {
            transition: stroke-dashoffset 1.5s cubic-bezier(0.4, 0, 0.2, 1);
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }

        .animate-fade-in {
            animation: fadeIn 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        .animate-pop {
            animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        @keyframes fadeIn {
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes popIn {
            0% { opacity: 0; transform: scale(0.9); }
            100% { opacity: 1; transform: scale(1); }
        }

        .gradient-text {
            background: linear-gradient(135deg, #2563eb, #7c3aed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useCallback, useRef } = React;

        // --- Default Data for Demo ---
        const DEFAULT_JOB_DESC = `Job Title: Senior Frontend Developer
Location: Remote

We are looking for a skilled Frontend Developer to join our dynamic team.

Responsibilities:
- Build performant web applications using React and TypeScript.
- Collaborate with UX designers to implement responsive designs.
- Optimize applications for maximum speed and scalability.
- Write clean, maintainable, and well-documented code.
- Participate in code reviews and mentor junior developers.

Requirements:
- 5+ years of experience in web development.
- Strong proficiency in JavaScript, HTML5, and CSS3.
- Deep understanding of React.js and its core principles.
- Experience with state management tools like Redux or Context API.
- Familiarity with RESTful APIs and modern build pipelines (Webpack, Vite).
- Experience with testing libraries such as Jest or React Testing Library.
- Knowledge of Agile methodologies and Git version control.
- Ability to work in a fast-paced environment and handle multiple projects.`;

        const DEFAULT_RESUME = `Jane Doe
San Francisco, CA | (555) 123-4567 | jane.doe@email.com

Summary
Passionate Web Developer with 4 years of experience building user-friendly websites. Skilled in HTML, CSS, and JavaScript. dedicated to creating clean code and solving complex problems.

Experience
Frontend Developer | Tech Solutions Inc.
2020 - Present
- Developed and maintained company website using HTML and CSS.
- Worked with the design team to update UI components.
- Fixed bugs and improved site performance.
- Used Git for version control.

Junior Web Developer | Creative Web Agency
2018 - 2020
- Assisted in building landing pages for clients.
- Wrote JavaScript functions for interactive elements.
- Collaborated with backend developers to integrate APIs.

Education
Bachelor of Science in Computer Science
University of Tech, 2018

Skills
JavaScript, HTML, CSS, Git, Basic React, jQuery, Bootstrap.`;

        // --- Helper Functions ---

        const STOP_WORDS = new Set([
            "a", "an", "and", "are", "as", "at", "be", "by", "for", "from", "has", "he", "in", "is", "it", "its", 
            "of", "on", "or", "that", "the", "to", "was", "were", "will", "with", "i", "my", "we", "our", "you", "your",
            "this", "but", "not", "have", "had", "what", "when", "where", "which", "who", "how", "can", "could",
            "should", "would", "if", "then", "than", "so", "do", "does", "did", "about", "into", "through", "during",
            "before", "after", "above", "below", "up", "down", "out", "off", "over", "under", "again", "further",
            "once", "here", "there", "why", "any", "each", "few", "more", "most", "other", "some", "such", "no", "nor",
            "only", "own", "same", "too", "very", "can", "will", "just", "don", "should", "now", "applicant", "role", "position"
        ]);

        const ACTION_VERBS = [
            "achieved", "added", "administered", "advised", "analyzed", "arranged", "assembled", "assessed",
            "built", "calculated", "collaborated", "completed", "constructed", "coordinated", "created",
            "defined", "delivered", "designed", "developed", "directed", "established", "evaluated", "executed",
            "expanded", "facilitated", "forecasted", "generated", "guided", "identified", "implemented", "improved",
            "increased", "initiated", "innovated", "integrated", "launched", "led", "managed", "maximized",
            "measured", "negotiated", "optimized", "orchestrated", "organized", "performed", "planned", "prepared",
            "presented", "produced", "programmed", "projected", "promoted", "proposed", "quantified", "reduced",
            "resolved", "restructured", "revamped", "saved", "scheduled", "secured", "simplified", "solved",
            "spearheaded", "standardized", "strengthened", "structured", "succeeded", "supervised", "supported",
            "trained", "transformed", "unified", "updated", "upgraded", "utilized", "won", "wrote"
        ];

        const SECTIONS = [
            { name: "Experience", regex: /(experience|employment|work history|professional history)/i },
            { name: "Education", regex: /(education|academic|university|college|degree)/i },
            { name: "Skills", regex: /(skills|competencies|technologies|proficiencies|expertise)/i },
            { name: "Summary", regex: /(summary|profile|objective|about me)/i },
            { name: "Projects", regex: /(projects|portfolio)/i }
        ];

        // --- Components ---

        const ScoreGauge = ({ score }) => {
            const radius = 80;
            const circumference = 2 * Math.PI * radius;
            const strokeDashoffset = circumference - (score / 100) * circumference;
            
            let color = "text-red-500";
            let label = "Needs Improvement";
            if (score >= 50) { color = "text-yellow-500"; label = "Good Start"; }
            if (score >= 70) { color = "text-blue-500"; label = "Strong Match"; }
            if (score >= 85) { color = "text-green-500"; label = "Excellent"; }

            return (
                <div className="relative flex flex-col items-center justify-center animate-pop">
                    <div className="relative">
                        <svg className="w-48 h-48 drop-shadow-lg" viewBox="0 0 180 180">
                            {/* Background Circle */}
                            <circle
                                className="text-gray-100"
                                strokeWidth="12"
                                stroke="currentColor"
                                fill="white"
                                r={radius}
                                cx="90"
                                cy="90"
                            />
                            {/* Progress Circle */}
                            <circle
                                className={`score-circle ${color}`}
                                strokeWidth="12"
                                strokeDasharray={circumference}
                                strokeDashoffset={strokeDashoffset}
                                strokeLinecap="round"
                                stroke="currentColor"
                                fill="transparent"
                                r={radius}
                                cx="90"
                                cy="90"
                            />
                        </svg>
                        <div className="absolute inset-0 flex flex-col items-center justify-center">
                            <span className={`text-5xl font-extrabold ${color} tracking-tight`}>{score}</span>
                            <span className="text-gray-400 text-xs font-semibold uppercase mt-1">/ 100</span>
                        </div>
                    </div>
                    <div className={`mt-4 text-lg font-bold ${color} px-4 py-1 rounded-full bg-white shadow-sm border border-gray-100`}>
                        {label}
                    </div>
                </div>
            );
        };

        const FileUpload = ({ onFileLoaded }) => {
            const [isDragging, setIsDragging] = useState(false);
            const [fileName, setFileName] = useState("");
            const [loading, setLoading] = useState(false);

            const handleFile = async (file) => {
                if (!file) return;
                setFileName(file.name);
                setLoading(true);
                
                try {
                    let text = "";
                    if (file.type === "application/pdf") {
                        const arrayBuffer = await file.arrayBuffer();
                        const pdf = await pdfjsLib.getDocument({ data: arrayBuffer }).promise;
                        for (let i = 1; i <= pdf.numPages; i++) {
                            const page = await pdf.getPage(i);
                            const content = await page.getTextContent();
                            text += content.items.map(item => item.str).join(" ") + "\n";
                        }
                    } else if (file.type === "application/vnd.openxmlformats-officedocument.wordprocessingml.document") {
                        const arrayBuffer = await file.arrayBuffer();
                        const result = await mammoth.extractRawText({ arrayBuffer });
                        text = result.value;
                    } else {
                        // Plain text fallback
                        text = await file.text();
                    }
                    onFileLoaded(text);
                } catch (error) {
                    console.error("Error reading file:", error);
                    alert("Could not read file. Please copy/paste content instead.");
                } finally {
                    setLoading(false);
                }
            };

            return (
                <div 
                    className={`group border-2 border-dashed rounded-xl p-8 text-center transition-all cursor-pointer relative overflow-hidden
                        ${isDragging ? "border-blue-500 bg-blue-50/50" : "border-gray-200 hover:border-blue-400 hover:bg-gray-50"}
                    `}
                    onDragOver={(e) => { e.preventDefault(); setIsDragging(true); }}
                    onDragLeave={() => setIsDragging(false)}
                    onDrop={(e) => {
                        e.preventDefault();
                        setIsDragging(false);
                        handleFile(e.dataTransfer.files[0]);
                    }}
                    onClick={() => document.getElementById('fileInput').click()}
                >
                    <input 
                        type="file" 
                        id="fileInput" 
                        className="hidden" 
                        accept=".pdf,.docx,.txt"
                        onChange={(e) => handleFile(e.target.files[0])}
                    />
                    
                    {loading ? (
                        <div className="flex flex-col items-center justify-center text-blue-600 animate-pulse">
                             <i data-lucide="loader" className="w-8 h-8 animate-spin mb-3"></i>
                            <p className="font-medium">Analyzing document structure...</p>
                        </div>
                    ) : fileName ? (
                        <div className="flex flex-col items-center justify-center text-green-600 animate-pop">
                            <div className="bg-green-100 p-3 rounded-full mb-3">
                                <i data-lucide="file-check" className="w-6 h-6"></i>
                            </div>
                            <p className="font-semibold text-gray-800">{fileName}</p>
                            <p className="text-xs text-gray-500 mt-1">Tap to change file</p>
                        </div>
                    ) : (
                        <div className="flex flex-col items-center justify-center text-gray-500">
                            <div className="bg-gray-100 group-hover:bg-blue-100 group-hover:text-blue-600 transition-colors p-3 rounded-full mb-3">
                                <i data-lucide="upload-cloud" className="w-6 h-6"></i>
                            </div>
                            <p className="font-medium text-gray-700">Upload Resume</p>
                            <p className="text-xs text-gray-400 mt-1">PDF, DOCX, or TXT</p>
                        </div>
                    )}
                </div>
            );
        };

        const SuggestionCard = ({ type, title, items, icon, colorClass }) => {
            if (!items || items.length === 0) return null;
            return (
                <div className={`p-5 rounded-xl border ${colorClass} bg-white shadow-sm mb-4`}>
                    <div className="flex items-start gap-3">
                        <div className={`p-2 rounded-lg ${colorClass.replace('border', 'bg').replace('200', '100')} mt-1`}>
                            {icon}
                        </div>
                        <div className="flex-1">
                            <h4 className="font-bold text-gray-800 text-sm uppercase tracking-wide mb-2">{title}</h4>
                            <ul className="space-y-2">
                                {items.map((item, idx) => (
                                    <li key={idx} className="text-sm text-gray-600 flex items-start gap-2">
                                        <span className="text-gray-400 mt-1">â€¢</span>
                                        {item}
                                    </li>
                                ))}
                            </ul>
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [resumeText, setResumeText] = useState(DEFAULT_RESUME);
            const [jobDescText, setJobDescText] = useState(DEFAULT_JOB_DESC);
            const [results, setResults] = useState(null);
            const resultsRef = useRef(null);

            useEffect(() => {
                lucide.createIcons();
            }, [results]);

            const cleanText = (text) => {
                return text.toLowerCase()
                    .replace(/[^\w\s]/g, ' ') 
                    .replace(/\s+/g, ' ')    
                    .trim();
            };

            const extractKeywords = (text) => {
                const words = cleanText(text).split(' ');
                const frequency = {};
                
                words.forEach(word => {
                    if (!STOP_WORDS.has(word) && word.length > 2 && isNaN(word)) {
                        frequency[word] = (frequency[word] || 0) + 1;
                    }
                });

                return Object.entries(frequency)
                    .sort((a, b) => b[1] - a[1])
                    .map(item => item[0]);
            };

            const analyze = () => {
                if (!resumeText.trim() || !jobDescText.trim()) {
                    alert("Please provide both Resume and Job Description text.");
                    return;
                }

                // 1. Keyword Analysis (40%)
                const jdKeywords = extractKeywords(jobDescText).slice(0, 15);
                const resumeCleaned = cleanText(resumeText);
                
                const foundKeywords = jdKeywords.filter(kw => resumeCleaned.includes(kw));
                const missingKeywords = jdKeywords.filter(kw => !resumeCleaned.includes(kw));
                const keywordScore = Math.round((foundKeywords.length / Math.max(jdKeywords.length, 1)) * 40);

                // 2. Section Analysis (20%)
                const foundSections = SECTIONS.filter(sec => sec.regex.test(resumeText));
                const missingSections = SECTIONS.filter(sec => !sec.regex.test(resumeText));
                const sectionScore = Math.round((foundSections.length / SECTIONS.length) * 20);

                // 3. Content (20%)
                const usedVerbs = ACTION_VERBS.filter(verb => resumeCleaned.includes(verb));
                const hasMetrics = /\d+%|\$\d+|\d+ years/i.test(resumeText);
                let contentScore = 0;
                if (usedVerbs.length >= 5) contentScore += 10;
                else contentScore += (usedVerbs.length * 2);
                if (hasMetrics) contentScore += 10;

                // 4. Formatting (20%)
                const hasEmail = /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/.test(resumeText);
                const hasPhone = /(\+\d{1,2}\s)?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}/.test(resumeText);
                const wordCount = resumeText.split(/\s+/).length;
                const isGoodLength = wordCount > 200 && wordCount < 1000;
                let formatScore = 0;
                if (hasEmail) formatScore += 7;
                if (hasPhone) formatScore += 7;
                if (isGoodLength) formatScore += 6;

                const totalScore = keywordScore + sectionScore + contentScore + formatScore;

                // --- Generate Suggestions ---
                const suggestions = [];

                if (missingKeywords.length > 0) {
                    suggestions.push({
                        title: "Critical Keywords Missing",
                        type: "critical",
                        icon: <i data-lucide="alert-triangle" className="text-red-600 w-5 h-5"></i>,
                        color: "border-red-200",
                        items: [
                            `Your resume is missing ${missingKeywords.length} key terms found frequently in the job description.`,
                            `Try to naturally weave these words into your experience: ${missingKeywords.slice(0, 5).map(k => `"${k}"`).join(", ")}.`
                        ]
                    });
                }

                if (!hasMetrics) {
                    suggestions.push({
                        title: "Quantify Your Impact",
                        type: "content",
                        icon: <i data-lucide="trending-up" className="text-orange-600 w-5 h-5"></i>,
                        color: "border-orange-200",
                        items: [
                            "We couldn't find many numbers (%, $). Recruiters love data.",
                            "Example: Instead of 'Improved sales', try 'Increased sales by 20% year-over-year'."
                        ]
                    });
                }

                if (usedVerbs.length < 5) {
                    suggestions.push({
                        title: "Use Stronger Action Verbs",
                        type: "content",
                        icon: <i data-lucide="zap" className="text-yellow-600 w-5 h-5"></i>,
                        color: "border-yellow-200",
                        items: [
                            `You only used ${usedVerbs.length} strong action verbs.`,
                            "Replace passive phrases (e.g., 'Responsible for') with active ones like 'Spearheaded', 'Developed', or 'Orchestrated'."
                        ]
                    });
                }

                if (missingSections.length > 0) {
                    suggestions.push({
                        title: "Structure Improvements",
                        type: "structure",
                        icon: <i data-lucide="layout" className="text-purple-600 w-5 h-5"></i>,
                        color: "border-purple-200",
                        items: missingSections.map(s => `Consider adding a clear "${s.name}" section to help the ATS parse your file.`)
                    });
                }

                if (totalScore > 85 && suggestions.length === 0) {
                    suggestions.push({
                        title: "Ready to Apply!",
                        type: "success",
                        icon: <i data-lucide="check-circle" className="text-green-600 w-5 h-5"></i>,
                        color: "border-green-200",
                        items: ["Your resume is extremely well-optimized for this job description. Good luck!"]
                    });
                }

                setResults({
                    score: totalScore,
                    breakdown: { keywordScore, sectionScore, contentScore, formatScore },
                    details: { foundKeywords, missingKeywords, foundSections, missingSections, usedVerbs, hasMetrics, hasEmail, hasPhone, wordCount },
                    suggestions
                });

                setTimeout(() => {
                    if (resultsRef.current) {
                        resultsRef.current.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                }, 100);
            };

            const reset = () => {
                setResumeText("");
                setJobDescText("");
                setResults(null);
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            return (
                <div className="min-h-screen p-4 md:p-8">
                    <div className="max-w-6xl mx-auto">
                        
                        {/* Header */}
                        <header className="flex flex-col md:flex-row items-center justify-between mb-10 gap-4">
                            <div className="flex items-center gap-4">
                                <div className="bg-gradient-to-br from-blue-600 to-violet-600 p-3 rounded-xl text-white shadow-lg shadow-blue-200">
                                    <i data-lucide="scan-search" className="w-8 h-8"></i>
                                </div>
                                <div>
                                    <h1 className="text-3xl font-extrabold gradient-text tracking-tight">ATS Optimizer Pro</h1>
                                    <p className="text-gray-500 font-medium">AI-Powered Resume Scorer</p>
                                </div>
                            </div>
                            <div className="flex gap-3">
                                {results && (
                                    <button 
                                        onClick={reset}
                                        className="px-4 py-2 rounded-lg bg-white border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-red-500 transition-colors text-sm font-semibold flex items-center gap-2 shadow-sm"
                                    >
                                        <i data-lucide="trash-2" className="w-4 h-4"></i>
                                        Clear All
                                    </button>
                                )}
                            </div>
                        </header>

                        <div className="grid md:grid-cols-2 gap-8 mb-10">
                            {/* Resume Input */}
                            <div className="glass-panel rounded-2xl p-6 relative group transition-all hover:shadow-lg">
                                <div className="flex items-center justify-between mb-4">
                                    <div className="flex items-center gap-3">
                                        <div className="w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold">1</div>
                                        <h2 className="text-xl font-bold text-gray-800">Your Resume</h2>
                                    </div>
                                </div>
                                
                                <FileUpload onFileLoaded={setResumeText} />

                                <div className="relative mt-6 mb-2">
                                    <div className="absolute inset-0 flex items-center"><div className="w-full border-t border-gray-200"></div></div>
                                    <div className="relative flex justify-center text-sm"><span className="px-3 bg-white text-gray-400 font-medium">or paste text</span></div>
                                </div>

                                <textarea
                                    className="w-full h-72 p-4 rounded-xl bg-gray-50 border-0 focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all resize-none text-sm leading-relaxed text-gray-700 font-mono shadow-inner"
                                    placeholder="Paste your resume text here..."
                                    value={resumeText}
                                    onChange={(e) => setResumeText(e.target.value)}
                                ></textarea>
                            </div>

                            {/* Job Description Input */}
                            <div className="glass-panel rounded-2xl p-6 flex flex-col relative transition-all hover:shadow-lg">
                                <div className="flex items-center gap-3 mb-4">
                                    <div className="w-8 h-8 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center font-bold">2</div>
                                    <h2 className="text-xl font-bold text-gray-800">Job Description</h2>
                                </div>
                                
                                <textarea
                                    className="w-full flex-grow p-4 rounded-xl bg-gray-50 border-0 focus:ring-2 focus:ring-purple-500 focus:bg-white transition-all resize-none text-sm leading-relaxed text-gray-700 font-mono shadow-inner"
                                    placeholder="Paste the job description here..."
                                    value={jobDescText}
                                    onChange={(e) => setJobDescText(e.target.value)}
                                    style={{ minHeight: '420px' }}
                                ></textarea>
                            </div>
                        </div>

                        {/* Calculate Button */}
                        <div className="flex justify-center mb-16 relative z-10">
                            <button
                                onClick={analyze}
                                className="group relative bg-gray-900 hover:bg-black text-white px-10 py-5 rounded-full font-bold text-lg shadow-xl hover:shadow-2xl hover:shadow-purple-500/20 transition-all flex items-center gap-3 transform hover:-translate-y-1 active:scale-95 active:translate-y-0"
                            >
                                <span>{results ? 'Update Analysis' : 'Calculate ATS Score'}</span>
                                <div className="bg-white/20 p-1 rounded-full group-hover:bg-white/30 transition-colors">
                                    <i data-lucide="arrow-right" className="w-5 h-5"></i>
                                </div>
                            </button>
                        </div>

                        {/* Results Section */}
                        {results && (
                            <div ref={resultsRef} className="animate-fade-in space-y-8">
                                
                                {/* Top Stats Row */}
                                <div className="grid lg:grid-cols-3 gap-8">
                                    {/* Main Score Gauge */}
                                    <div className="glass-panel rounded-2xl p-8 flex flex-col items-center justify-center relative overflow-hidden">
                                        <div className="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-blue-500 to-purple-500"></div>
                                        <h3 className="text-gray-500 font-semibold mb-6 uppercase tracking-wider text-sm">Overall Match Rate</h3>
                                        <ScoreGauge score={results.score} />
                                    </div>

                                    {/* Detailed Breakdown Bars */}
                                    <div className="glass-panel rounded-2xl p-8 col-span-2 relative overflow-hidden">
                                         <div className="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-purple-500 to-pink-500"></div>
                                        <h3 className="text-xl font-bold text-gray-800 mb-6">Score Breakdown</h3>
                                        
                                        <div className="space-y-6">
                                            {[
                                                { label: "Keywords & Relevance", score: results.breakdown.keywordScore, max: 40, color: "bg-blue-500" },
                                                { label: "Formatting & Contact", score: results.breakdown.formatScore, max: 20, color: "bg-green-500" },
                                                { label: "Section Structure", score: results.breakdown.sectionScore, max: 20, color: "bg-purple-500" },
                                                { label: "Content Quality (Verbs/Metrics)", score: results.breakdown.contentScore, max: 20, color: "bg-orange-500" }
                                            ].map((item, i) => (
                                                <div key={i}>
                                                    <div className="flex justify-between text-sm font-semibold text-gray-600 mb-2">
                                                        <span>{item.label}</span>
                                                        <span className="text-gray-900">{item.score} / {item.max}</span>
                                                    </div>
                                                    <div className="w-full bg-gray-100 rounded-full h-3 overflow-hidden">
                                                        <div 
                                                            className={`h-full rounded-full ${item.color} transition-all duration-1000 ease-out`} 
                                                            style={{ width: `${(item.score/item.max)*100}%` }}
                                                        ></div>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                </div>

                                {/* Deep Dive Grid */}
                                <div className="grid lg:grid-cols-3 gap-8">
                                    
                                    {/* Left Column: Suggestions */}
                                    <div className="lg:col-span-1 space-y-6">
                                        <div className="bg-gradient-to-br from-indigo-900 to-slate-900 rounded-2xl p-6 text-white shadow-xl">
                                            <div className="flex items-center gap-3 mb-6">
                                                <div className="p-2 bg-white/10 rounded-lg">
                                                    <i data-lucide="sparkles" className="w-5 h-5 text-yellow-300"></i>
                                                </div>
                                                <h3 className="text-lg font-bold">AI Suggestions</h3>
                                            </div>
                                            
                                            {results.suggestions.length > 0 ? (
                                                results.suggestions.map((sugg, i) => (
                                                    <SuggestionCard 
                                                        key={i} 
                                                        title={sugg.title} 
                                                        items={sugg.items} 
                                                        icon={sugg.icon}
                                                        colorClass={sugg.color}
                                                    />
                                                ))
                                            ) : (
                                                <div className="text-center py-8 text-gray-300">
                                                    <p>No major improvements needed!</p>
                                                </div>
                                            )}
                                        </div>
                                    </div>

                                    {/* Right Column: Keyword Analysis */}
                                    <div className="lg:col-span-2 glass-panel rounded-2xl p-8">
                                        <div className="flex items-center gap-3 mb-8">
                                            <div className="p-2 bg-blue-100 text-blue-600 rounded-lg">
                                                <i data-lucide="tag" className="w-5 h-5"></i>
                                            </div>
                                            <h3 className="text-xl font-bold text-gray-800">Keyword Gap Analysis</h3>
                                        </div>

                                        <div className="grid md:grid-cols-2 gap-8">
                                            <div>
                                                <h4 className="text-sm font-bold text-red-500 uppercase tracking-wider mb-4 flex items-center gap-2">
                                                    <i data-lucide="x-circle" className="w-4 h-4"></i> Missing Keywords
                                                </h4>
                                                <div className="flex flex-wrap gap-2">
                                                    {results.details.missingKeywords.length > 0 ? (
                                                        results.details.missingKeywords.map((kw, i) => (
                                                            <span key={i} className="px-3 py-1.5 bg-red-50 text-red-700 rounded-md text-sm font-medium border border-red-100 shadow-sm">
                                                                {kw}
                                                            </span>
                                                        ))
                                                    ) : (
                                                        <span className="text-gray-400 text-sm italic">None! You hit them all.</span>
                                                    )}
                                                </div>
                                            </div>

                                            <div>
                                                <h4 className="text-sm font-bold text-green-600 uppercase tracking-wider mb-4 flex items-center gap-2">
                                                    <i data-lucide="check-circle-2" className="w-4 h-4"></i> Matched Keywords
                                                </h4>
                                                <div className="flex flex-wrap gap-2">
                                                    {results.details.foundKeywords.length > 0 ? (
                                                        results.details.foundKeywords.map((kw, i) => (
                                                            <span key={i} className="px-3 py-1.5 bg-green-50 text-green-700 rounded-md text-sm font-medium border border-green-100 shadow-sm">
                                                                {kw}
                                                            </span>
                                                        ))
                                                    ) : (
                                                        <span className="text-gray-400 text-sm italic">No matches found yet.</span>
                                                    )}
                                                </div>
                                            </div>
                                        </div>

                                        <div className="mt-8 pt-6 border-t border-gray-100 grid sm:grid-cols-3 gap-4">
                                            <div className="text-center p-4 bg-gray-50 rounded-xl">
                                                <p className="text-gray-500 text-xs uppercase font-bold mb-1">Email</p>
                                                <p className={`font-bold ${results.details.hasEmail ? 'text-green-600' : 'text-red-500'}`}>
                                                    {results.details.hasEmail ? 'Detected' : 'Missing'}
                                                </p>
                                            </div>
                                            <div className="text-center p-4 bg-gray-50 rounded-xl">
                                                <p className="text-gray-500 text-xs uppercase font-bold mb-1">Phone</p>
                                                <p className={`font-bold ${results.details.hasPhone ? 'text-green-600' : 'text-red-500'}`}>
                                                    {results.details.hasPhone ? 'Detected' : 'Missing'}
                                                </p>
                                            </div>
                                            <div className="text-center p-4 bg-gray-50 rounded-xl">
                                                <p className="text-gray-500 text-xs uppercase font-bold mb-1">Metrics (%, $)</p>
                                                <p className={`font-bold ${results.details.hasMetrics ? 'text-green-600' : 'text-red-500'}`}>
                                                    {results.details.hasMetrics ? 'Detected' : 'Missing'}
                                                </p>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
